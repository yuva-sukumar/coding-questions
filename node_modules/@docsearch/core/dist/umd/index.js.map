{"version":3,"file":"index.js","sources":["../../src/useKeyboardShortcuts.ts","../../src/useDocSearchKeyboardEvents.ts","../../src/useIsMobile.ts","../../src/useTheme.ts","../../src/DocSearch.tsx"],"sourcesContent":["export interface DocSearchModalShortcuts {\n  /**\n   * Enable/disable the Ctrl/Cmd+K shortcut to toggle the DocSearch modal.\n   *\n   * @default true\n   */\n  'Ctrl/Cmd+K'?: boolean;\n  /**\n   * Enable/disable the / shortcut to open the DocSearch modal.\n   *\n   * @default true\n   */\n  '/'?: boolean;\n}\n\nexport interface SidepanelShortcuts {\n  /**\n   * Enable/disable the Ctrl/Cmd+I shortcut to toggle the DocSearch sidepanel.\n   *\n   * @default true\n   */\n  'Ctrl/Cmd+I'?: boolean;\n}\n\nexport type KeyboardShortcuts = DocSearchModalShortcuts & SidepanelShortcuts;\n\n/**\n * Default keyboard shortcuts configuration for DocSearch.\n * These values are used when no keyboardShortcuts prop is provided\n * or when specific shortcuts are not configured.\n */\nexport const DEFAULT_KEYBOARD_SHORTCUTS: Required<KeyboardShortcuts> = {\n  'Ctrl/Cmd+K': true,\n  '/': true,\n  'Ctrl/Cmd+I': true,\n} as const;\n\n/**\n * Merges user-provided keyboard shortcuts with defaults.\n *\n * @param userShortcuts - Optional user configuration.\n * @returns Complete keyboard shortcuts configuration with defaults applied.\n */\nexport function useKeyboardShortcuts(userShortcuts?: KeyboardShortcuts): Required<KeyboardShortcuts> {\n  return {\n    ...DEFAULT_KEYBOARD_SHORTCUTS,\n    ...userShortcuts,\n  };\n}\n","import React from 'react';\n\nimport { DEFAULT_KEYBOARD_SHORTCUTS, type KeyboardShortcuts } from './useKeyboardShortcuts';\n\nexport interface UseDocSearchKeyboardEventsProps {\n  isOpen: boolean;\n  onOpen: () => void;\n  onClose: () => void;\n  /**\n   * Deprecated: Still here for backwards compat.\n   *\n   * @deprecated\n   */\n  onInput?: (event: KeyboardEvent) => void;\n  /**\n   * Deprecated: Still here for backwards compat.\n   *\n   * @deprecated\n   */\n  searchButtonRef?: React.RefObject<HTMLButtonElement | null>;\n  isAskAiActive: boolean;\n  onAskAiToggle: (toggle: boolean) => void;\n  keyboardShortcuts?: KeyboardShortcuts;\n}\n\nfunction isEditingContent(event: KeyboardEvent): boolean {\n  const element = event.composedPath()[0] as HTMLElement;\n  const tagName = element.tagName;\n\n  return element.isContentEditable || tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n}\n\nexport function useDocSearchKeyboardEvents({\n  isOpen,\n  isAskAiActive,\n  onAskAiToggle,\n  onClose,\n  onOpen,\n  keyboardShortcuts = DEFAULT_KEYBOARD_SHORTCUTS,\n}: UseDocSearchKeyboardEventsProps): void {\n  React.useEffect(() => {\n    function onKeyDown(event: KeyboardEvent): void {\n      if (isOpen && event.code === 'Escape' && isAskAiActive) {\n        onAskAiToggle(false);\n        return;\n      }\n\n      const isCmdK =\n        keyboardShortcuts['Ctrl/Cmd+K'] && event.key?.toLowerCase() === 'k' && (event.metaKey || event.ctrlKey);\n      const isSlash = keyboardShortcuts['/'] && event.key === '/';\n\n      if ((event.code === 'Escape' && isOpen) || isCmdK || (!isEditingContent(event) && isSlash && !isOpen)) {\n        event.preventDefault();\n\n        if (isOpen) {\n          onClose();\n        } else if (!document.body.classList.contains('DocSearch--active')) {\n          onOpen();\n        }\n      }\n    }\n\n    window.addEventListener('keydown', onKeyDown);\n\n    return (): void => {\n      window.removeEventListener('keydown', onKeyDown);\n    };\n  }, [isOpen, isAskAiActive, keyboardShortcuts, onOpen, onClose, onAskAiToggle]);\n}\n","import React from 'react';\n\nexport const useIsMobile = (): boolean => {\n  const [isMobile, setIsMobile] = React.useState(false);\n\n  React.useEffect(() => {\n    const checkForMobile = (): void => {\n      const isMobileMediaQuery = window.matchMedia('(max-width: 768px)');\n\n      setIsMobile(isMobileMediaQuery.matches);\n    };\n\n    checkForMobile();\n\n    window.addEventListener('resize', checkForMobile);\n\n    return (): void => {\n      window.removeEventListener('resize', checkForMobile);\n    };\n  }, []);\n\n  return isMobile;\n};\n","import { useEffect } from 'react';\n\nexport type DocSearchTheme = 'dark' | 'light';\n\nexport interface UseThemeProps {\n  theme?: DocSearchTheme;\n}\n\nexport const useTheme = ({ theme }: UseThemeProps): void => {\n  useEffect(() => {\n    if (!theme) {\n      return undefined;\n    }\n\n    const previousTheme = document.documentElement.dataset.theme;\n\n    if (theme === previousTheme) {\n      return undefined;\n    }\n\n    document.documentElement.dataset.theme = theme;\n\n    return (): void => {\n      if (previousTheme === undefined) {\n        delete document.documentElement.dataset.theme;\n      } else {\n        document.documentElement.dataset.theme = previousTheme;\n      }\n    };\n  }, [theme]);\n};\n","import type { JSX } from 'react';\nimport React from 'react';\n\nimport { useDocSearchKeyboardEvents } from './useDocSearchKeyboardEvents';\nimport { useIsMobile } from './useIsMobile';\nimport { useKeyboardShortcuts } from './useKeyboardShortcuts';\nimport type { KeyboardShortcuts } from './useKeyboardShortcuts.ts';\nimport type { DocSearchTheme } from './useTheme';\nimport { useTheme } from './useTheme';\n\nexport type DocSearchState = 'modal-askai' | 'modal-search' | 'ready' | 'sidepanel';\n\nexport type View = 'modal' | 'sidepanel' | (Record<string, unknown> & string);\n\nexport type InitialAskAiMessage = {\n  query: string;\n  messageId?: string;\n  suggestedQuestionId?: string;\n};\n\nexport type OnAskAiToggle = (active: boolean, initialMessage?: InitialAskAiMessage) => void;\n\n/**\n * Imperative handle exposed by the DocSearch provider for programmatic control.\n */\nexport interface DocSearchRef {\n  /** Opens the search modal. */\n  open: () => void;\n  /** Closes the search modal. */\n  close: () => void;\n  /** Opens Ask AI mode (sidepanel if available, otherwise modal). */\n  openAskAi: (initialMessage?: InitialAskAiMessage) => void;\n  /** Opens the sidepanel directly (no-op if sidepanel view not registered). */\n  openSidepanel: (initialMessage?: InitialAskAiMessage) => void;\n  /** Returns true once the component is mounted and ready. */\n  readonly isReady: boolean;\n  /** Returns true if the modal is currently open. */\n  readonly isOpen: boolean;\n  /** Returns true if the sidepanel is currently open. */\n  readonly isSidepanelOpen: boolean;\n  /** Returns true if sidepanel view is registered (hybrid mode). */\n  readonly isSidepanelSupported: boolean;\n}\n\nexport interface DocSearchContext {\n  docsearchState: DocSearchState;\n  setDocsearchState: (newState: DocSearchState) => void;\n  searchButtonRef: React.RefObject<HTMLButtonElement | null>;\n  initialQuery: string;\n  keyboardShortcuts: Required<KeyboardShortcuts>;\n  openModal: () => void;\n  closeModal: () => void;\n  isAskAiActive: boolean;\n  isModalActive: boolean;\n  onAskAiToggle: OnAskAiToggle;\n  initialAskAiMessage: InitialAskAiMessage | undefined;\n  registerView: (view: View) => void;\n  isHybridModeSupported: boolean;\n}\n\n/**\n * Lifecycle callbacks for DocSearch.\n */\nexport interface DocSearchCallbacks {\n  /** Called once DocSearch is mounted and ready for interaction. */\n  onReady?: () => void;\n  /** Called when the modal opens. */\n  onOpen?: () => void;\n  /** Called when the modal closes. */\n  onClose?: () => void;\n  /** Called when the sidepanel opens. */\n  onSidepanelOpen?: () => void;\n  /** Called when the sidepanel closes. */\n  onSidepanelClose?: () => void;\n}\n\nexport interface DocSearchProps extends DocSearchCallbacks {\n  children: Array<JSX.Element | null> | JSX.Element | React.ReactNode | null;\n  theme?: DocSearchTheme;\n  initialQuery?: string;\n  keyboardShortcuts?: KeyboardShortcuts;\n}\n\nconst Context = React.createContext<DocSearchContext | undefined>(undefined);\nContext.displayName = 'DocSearchContext';\n\nfunction DocSearchInner(\n  { children, theme, onReady, onOpen, onClose, onSidepanelOpen, onSidepanelClose, ...props }: DocSearchProps,\n  ref: React.ForwardedRef<DocSearchRef>,\n): JSX.Element {\n  const [docsearchState, setDocsearchState] = React.useState<DocSearchState>('ready');\n  const [initialQuery, setInitialQuery] = React.useState<string>(props.initialQuery || '');\n  const searchButtonRef = React.useRef<HTMLButtonElement>(null);\n  const keyboardShortcuts = useKeyboardShortcuts(props.keyboardShortcuts);\n  const [initialAskAiMessage, setInitialAskAiMessage] = React.useState<InitialAskAiMessage>();\n  const [registeredViews, setRegisteredViews] = React.useState(() => new Set<View>());\n  const isMobile = useIsMobile();\n  const prevStateRef = React.useRef<DocSearchState>('ready');\n\n  const isModalActive = ['modal-search', 'modal-askai'].includes(docsearchState);\n  const isAskAiActive = docsearchState === 'modal-askai';\n  const isHybridModeSupported = !isMobile && registeredViews.has('sidepanel');\n  const isSidepanelOpen = docsearchState === 'sidepanel';\n\n  // Call onReady on mount\n  React.useEffect(() => {\n    onReady?.();\n  }, [onReady]);\n\n  // Track state changes for lifecycle callbacks\n  React.useEffect(() => {\n    const prevState = prevStateRef.current;\n    const currentState = docsearchState;\n\n    // Modal opened\n    if (\n      (currentState === 'modal-search' || currentState === 'modal-askai') &&\n      prevState !== 'modal-search' &&\n      prevState !== 'modal-askai'\n    ) {\n      onOpen?.();\n    }\n\n    // Modal closed\n    if (currentState === 'ready' && (prevState === 'modal-search' || prevState === 'modal-askai')) {\n      onClose?.();\n    }\n\n    // Sidepanel opened\n    if (currentState === 'sidepanel' && prevState !== 'sidepanel') {\n      onSidepanelOpen?.();\n    }\n\n    // Sidepanel closed\n    if (currentState !== 'sidepanel' && prevState === 'sidepanel') {\n      onSidepanelClose?.();\n    }\n\n    prevStateRef.current = currentState;\n  }, [docsearchState, onOpen, onClose, onSidepanelOpen, onSidepanelClose]);\n\n  const openModal = React.useCallback((): void => {\n    setDocsearchState('modal-search');\n  }, []);\n\n  const closeModal = React.useCallback((): void => {\n    setDocsearchState('ready');\n    // Refocus the Modal trigger on close\n    searchButtonRef.current?.focus();\n    setInitialQuery(props.initialQuery ?? '');\n  }, [setDocsearchState, props.initialQuery]);\n\n  const onAskAiToggle: OnAskAiToggle = React.useCallback(\n    (active, initialMessage) => {\n      // Don't use hybrid mode on mobile\n      if (!isMobile && active && isHybridModeSupported) {\n        setInitialAskAiMessage(initialMessage);\n        setDocsearchState('sidepanel');\n        return;\n      }\n\n      setDocsearchState(active ? 'modal-askai' : 'modal-search');\n    },\n    [setDocsearchState, isMobile, isHybridModeSupported],\n  );\n\n  const openSidepanel = React.useCallback(\n    (initialMessage?: InitialAskAiMessage): void => {\n      // Guard: no-op if sidepanel view hasn't been registered\n      if (!registeredViews.has('sidepanel')) return;\n\n      setInitialAskAiMessage(initialMessage);\n      setDocsearchState('sidepanel');\n    },\n    [setDocsearchState, registeredViews],\n  );\n\n  const onInput = React.useCallback(\n    (event: KeyboardEvent): void => {\n      setDocsearchState('modal-search');\n      setInitialQuery(event.key);\n    },\n    [setDocsearchState, setInitialQuery],\n  );\n\n  const registerView = React.useCallback(\n    (view: View): void => {\n      if (registeredViews.has(view)) return;\n\n      setRegisteredViews((prev) => {\n        const newViews = new Set(prev);\n        newViews.add(view);\n        return newViews;\n      });\n    },\n    [registeredViews],\n  );\n\n  // Expose imperative handle for programmatic control\n  React.useImperativeHandle(\n    ref,\n    () => ({\n      open: openModal,\n      close: closeModal,\n      openAskAi: (initialMessage?: InitialAskAiMessage): void => onAskAiToggle(true, initialMessage),\n      openSidepanel,\n      get isReady(): boolean {\n        return true;\n      },\n      get isOpen(): boolean {\n        return isModalActive;\n      },\n      get isSidepanelOpen(): boolean {\n        return isSidepanelOpen;\n      },\n      get isSidepanelSupported(): boolean {\n        return isHybridModeSupported;\n      },\n    }),\n    [openModal, closeModal, onAskAiToggle, openSidepanel, isModalActive, isSidepanelOpen, isHybridModeSupported],\n  );\n\n  useTheme({ theme });\n\n  useDocSearchKeyboardEvents({\n    isOpen: isModalActive,\n    onOpen: openModal,\n    onClose: closeModal,\n    onAskAiToggle,\n    onInput,\n    isAskAiActive,\n    searchButtonRef,\n    keyboardShortcuts,\n  });\n\n  const value: DocSearchContext = React.useMemo(\n    () => ({\n      docsearchState,\n      setDocsearchState,\n      searchButtonRef,\n      initialQuery,\n      keyboardShortcuts,\n      openModal,\n      closeModal,\n      isAskAiActive,\n      isModalActive,\n      onAskAiToggle,\n      initialAskAiMessage,\n      registerView,\n      isHybridModeSupported,\n    }),\n    [\n      docsearchState,\n      searchButtonRef,\n      initialQuery,\n      keyboardShortcuts,\n      openModal,\n      closeModal,\n      isAskAiActive,\n      isModalActive,\n      onAskAiToggle,\n      initialAskAiMessage,\n      registerView,\n      isHybridModeSupported,\n    ],\n  );\n\n  return <Context.Provider value={value}>{children}</Context.Provider>;\n}\n\nexport const DocSearch = React.forwardRef(DocSearchInner);\nDocSearch.displayName = 'DocSearch';\n\nexport function useDocSearch(): DocSearchContext {\n  const ctx = React.useContext(Context);\n\n  if (ctx === undefined) {\n    throw new Error('`useDocSearch` must be used within the `DocSearch` provider');\n  }\n\n  return ctx;\n}\n"],"names":["DEFAULT_KEYBOARD_SHORTCUTS","useKeyboardShortcuts","userShortcuts","_objectSpread","useDocSearchKeyboardEvents","_ref","isOpen","isAskAiActive","onAskAiToggle","onClose","onOpen","_ref$keyboardShortcut","keyboardShortcuts","React","useEffect","onKeyDown","event","_event$key","code","isCmdK","key","toLowerCase","metaKey","ctrlKey","isSlash","element","composedPath","tagName","isContentEditable","isEditingContent","preventDefault","document","body","classList","contains","window","addEventListener","removeEventListener","useTheme","theme","previousTheme","documentElement","dataset","undefined","Context","createContext","displayName","DocSearch","forwardRef","ref","children","onReady","onSidepanelOpen","onSidepanelClose","props","_objectWithoutProperties","_excluded","_React$useState2","_slicedToArray","useState","docsearchState","setDocsearchState","_React$useState4","initialQuery","setInitialQuery","searchButtonRef","useRef","_React$useState6","initialAskAiMessage","setInitialAskAiMessage","_React$useState8","Set","registeredViews","setRegisteredViews","isMobile","setIsMobile","checkForMobile","isMobileMediaQuery","matchMedia","matches","useIsMobile","prevStateRef","isModalActive","includes","isHybridModeSupported","has","isSidepanelOpen","prevState","current","currentState","openModal","useCallback","closeModal","_searchButtonRef$curr","_props$initialQuery","focus","active","initialMessage","openSidepanel","onInput","registerView","view","prev","newViews","add","useImperativeHandle","open","close","openAskAi","isReady","isSidepanelSupported","value","useMemo","createElement","Provider","ctx","useContext","Error"],"mappings":"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"}